(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{7329:function(e,s,t){Promise.resolve().then(t.bind(t,4198))},4198:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var l=t(7821),a=t(8078),r=t(4233),i=t(3177);let n="https://github.com/nowis30/jeux-millionnaire-APK/releases/download/heritier-millionnaire/app-release.apk",c="https://raw.githubusercontent.com/nowis30/jeux-millionnaire-APK/main/heritier-millionnaire-v1.0.2.apk",o="1.0.3",d="nowis30/jeux-millionnaire-APK";function u(){let[e,s]=(0,a.useState)(""),[t,u]=(0,a.useState)(null),[m,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[j,b]=(0,a.useState)(n),[v,f]=(0,a.useState)(o),[g,N]=(0,a.useState)(!1),[A,_]=(0,a.useState)(null);(0,a.useEffect)(()=>{s(navigator.userAgent||""),b(n),f(o),u(!!(n&&n.length>0&&!n.startsWith("/"))),(async()=>{if(d)try{var e;N(!0),_(null);let s="hm-latest-release-".concat(d),t=localStorage.getItem(s);if(t){let{url:e,version:s,ts:l}=JSON.parse(t);if(e&&Date.now()-(null!=l?l:0)<36e5){b(e),s&&f(String(s).replace(/^v/i,"").trim());return}}let l=await fetch("https://api.github.com/repos/".concat(d,"/releases/latest"),{headers:{Accept:"application/vnd.github+json"}});if(404===l.status&&(l=await fetch("https://api.github.com/repos/".concat(d,"/releases"),{headers:{Accept:"application/vnd.github+json"}})),!l.ok)throw Error("GitHub API ".concat(l.status));let a=await l.json(),r=Array.isArray(a)?a[0]:a,i=(null!==(e=null==r?void 0:r.assets)&&void 0!==e?e:[]).find(e=>{var s,t;return(null==e?void 0:null===(s=e.name)||void 0===s?void 0:s.endsWith(".apk"))||(null==e?void 0:null===(t=e.content_type)||void 0===t?void 0:t.includes("android.package-archive"))});if(null==i?void 0:i.browser_download_url){b(i.browser_download_url);let e=(null==r?void 0:r.name)||(null==r?void 0:r.tag_name)||o,t=String(e).replace(/^v/i,"").trim();f(t),localStorage.setItem(s,JSON.stringify({url:i.browser_download_url,version:e,ts:Date.now()}))}else!(await fetch(n,{method:"HEAD"})).ok&&c&&h(!0)}catch(e){_((null==e?void 0:e.message)||"Erreur release");try{!(await fetch(n,{method:"HEAD"})).ok&&c&&h(!0)}catch(e){c&&h(!0)}}finally{N(!1)}})()},[]);let w=(0,a.useMemo)(()=>/Android/i.test(e),[e]);(0,a.useMemo)(()=>/iPhone|iPad|iPod/i.test(e),[e]);let P=(0,a.useCallback)(async e=>{try{p(!0),await i.A.open({url:e,toolbarColor:"#10b981"})}catch(s){window.open(e,"_blank")}finally{p(!1)}},[]);return(0,l.jsxs)("main",{className:"max-w-3xl mx-auto space-y-6",children:[(0,l.jsxs)("header",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"T\xe9l\xe9charger l'application"}),(0,l.jsx)("p",{className:"text-neutral-300 text-sm",children:"Installez l'APK Android. La bande annonce sera ajout\xe9e plus tard."})]}),(0,l.jsxs)("section",{className:"rounded-lg border border-emerald-600/40 bg-emerald-600/10 p-4 space-y-3",children:[(0,l.jsxs)("h3",{className:"font-semibold text-emerald-200",children:["\uD83D\uDCF1 APK Android - Version ",v]}),(0,l.jsx)("p",{className:"text-sm text-emerald-100/90",children:w?(0,l.jsx)(l.Fragment,{children:"Vous \xeates sur Android. Apr\xe8s le t\xe9l\xe9chargement, ouvrez le fichier .apk et autorisez l'installation depuis le navigateur si n\xe9cessaire."}):(0,l.jsx)(l.Fragment,{children:"Le fichier APK s'installe sur Android. Depuis iOS ou desktop, t\xe9l\xe9chargez et transf\xe9rez le fichier sur un appareil Android."})}),(0,l.jsxs)("div",{className:"text-xs text-neutral-300 space-y-1",children:[(0,l.jsx)("div",{children:"✨ AdMob production int\xe9gr\xe9"}),(0,l.jsx)("div",{children:"\uD83D\uDD12 Consentement RGPD"}),(0,l.jsx)("div",{children:"\uD83C\uDFB5 Musique et effets sonores"}),(0,l.jsx)("div",{children:"\uD83D\uDCE6 Taille: 18.23 MB"})]}),t?(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,l.jsx)("button",{onClick:()=>P(m?c:j),disabled:x,className:"inline-flex items-center gap-2 px-4 py-2 rounded bg-emerald-600 hover:bg-emerald-500 disabled:opacity-60 text-black font-medium",children:x?"Ouverture…":"⬇️ T\xe9l\xe9charger l'APK v".concat(v," ").concat(m?"(fallback)":"")}),g&&(0,l.jsx)("span",{className:"text-xs text-neutral-400",children:"(recherche…)"}),A&&(0,l.jsxs)("span",{className:"text-xs text-rose-300",children:["(",A,")"]})]}):(0,l.jsxs)("div",{className:"rounded border border-emerald-700/50 bg-emerald-900/20 p-3 text-sm text-neutral-200",children:[(0,l.jsx)("div",{className:"font-semibold mb-1",children:"Aucun APK d\xe9tect\xe9 pour le moment"}),(0,l.jsxs)("ol",{className:"list-decimal pl-5 space-y-1",children:[(0,l.jsxs)("li",{children:["Option rapide: placez votre fichier ",(0,l.jsx)("code",{children:"app-release.apk"})," dans le dossier ",(0,l.jsx)("code",{children:"/public"})," du projet, puis redeployez. Il sera accessible via ",(0,l.jsx)("code",{children:"/app-release.apk"}),"."]}),(0,l.jsxs)("li",{children:["Option CDN: h\xe9bergez l'APK (GitHub Releases, Cloudflare R2, S3/CDN) et d\xe9finissez la variable ",(0,l.jsx)("code",{children:"NEXT_PUBLIC_APK_URL"})," sur l'URL directe."]})]}),(0,l.jsx)("p",{className:"mt-2 text-xs text-neutral-400",children:"Astuce: Vercel conseille un stockage type Blob/CDN pour les fichiers volumineux."})]}),(0,l.jsxs)("details",{className:"text-sm text-neutral-300",children:[(0,l.jsx)("summary",{className:"cursor-pointer text-neutral-200",children:"Aide \xe0 l'installation"}),(0,l.jsxs)("ol",{className:"list-decimal pl-5 space-y-1 mt-2",children:[(0,l.jsx)("li",{children:"T\xe9l\xe9chargez le fichier APK."}),(0,l.jsx)("li",{children:"Ouvrez le fichier (dans T\xe9l\xe9chargements)."}),(0,l.jsx)("li",{children:"Si Android bloque, allez dans R\xe9glages → S\xe9curit\xe9 → autoriser 'Sources inconnues' ou autoriser depuis votre navigateur."}),(0,l.jsx)("li",{children:"Lancez l'installation et ouvrez l'application."})]})]})]}),(0,l.jsxs)("section",{className:"rounded-lg border border-indigo-600/40 bg-indigo-600/10 p-4 space-y-3",children:[(0,l.jsx)("h3",{className:"font-semibold text-indigo-200",children:"Bande annonce"}),(0,l.jsxs)("p",{className:"text-sm text-neutral-300",children:["Bande annonce \xe0 venir. Vous pourrez ajouter une URL YouTube (",(0,l.jsx)("code",{className:"text-neutral-200",children:"NEXT_PUBLIC_TRAILER_YT"}),") ou un MP4 (",(0,l.jsx)("code",{className:"text-neutral-200",children:"NEXT_PUBLIC_TRAILER_MP4"}),") plus tard."]})]}),(0,l.jsxs)("section",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"font-semibold",children:"Questions fr\xe9quentes"}),(0,l.jsxs)("details",{className:"text-sm text-neutral-300",children:[(0,l.jsx)("summary",{className:"cursor-pointer text-neutral-200",children:"Le t\xe9l\xe9chargement est lent ou \xe9choue"}),(0,l.jsxs)("p",{className:"mt-1",children:["Nous recommandons d'h\xe9berger l'APK sur un h\xe9bergement de fichiers (GitHub Releases, Cloudflare R2, Vercel Blob) et d'utiliser son lien direct dans la variable ",(0,l.jsx)("code",{children:"NEXT_PUBLIC_APK_URL"}),"."]})]}),(0,l.jsxs)("details",{className:"text-sm text-neutral-300",children:[(0,l.jsx)("summary",{className:"cursor-pointer text-neutral-200",children:"Comment mettre \xe0 jour l'APK ?"}),(0,l.jsx)("p",{className:"mt-1",children:"Uploadez la nouvelle version au m\xeame emplacement et mettez \xe0 jour l'URL si elle change. Les anciens liens peuvent rester en miroir si besoin."})]})]}),(0,l.jsxs)("div",{className:"text-sm text-neutral-400",children:["Besoin d'aide ? ",(0,l.jsx)(r.default,{href:"/contact",className:"text-rose-300 hover:text-rose-200 underline",children:"Contactez le support"}),"."]})]})}}},function(e){e.O(0,[233,177,115,205,744],function(){return e(e.s=7329)}),_N_E=e.O()}]);