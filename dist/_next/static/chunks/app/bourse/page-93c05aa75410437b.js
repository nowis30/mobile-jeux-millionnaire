(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{4673:function(e,t,a){Promise.resolve().then(a.bind(a,4371))},4371:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7821),n=a(8078);let r=["SP500","QQQ","TSX","GLD","TLT"];var l=a(9513),c=a(2044);let i={SP500:.018,TSX:.03};function o(){let[e,t]=(0,n.useState)(""),[a,o]=(0,n.useState)(""),[d,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(null),[p,f]=(0,n.useState)(r[0]),[b,g]=(0,n.useState)(1),[y,j]=(0,n.useState)([]),[v,N]=(0,n.useState)([]),[w,S]=(0,n.useState)(null),[T,k]=(0,n.useState)(null),[P,C]=(0,n.useState)({}),[E,A]=(0,n.useState)(null),[M,F]=(0,n.useState)(null),[I,L]=(0,n.useState)(null),O=(0,n.useMemo)(()=>{let e=y.find(e=>e.symbol===p);return e?Number(e.price):null},[y,p]),$=(0,n.useMemo)(()=>O?Number(b)*O:0,[O,b]);(0,n.useMemo)(()=>"number"==typeof x?Math.max(0,x):0,[x]);let D=(0,n.useMemo)(()=>{if(!O)return 0;let e="number"==typeof x?x:0;return e<=0?0:Math.max(0,Math.floor(e/O*100)/100)},[x,O]),_=(0,n.useMemo)(()=>!!O&&!!b&&!(b<=0)&&"number"==typeof x&&!(x<=0)&&$>0&&$<=x,[x,O,b,$]),B=(0,n.useMemo)(()=>{let e=v.find(e=>e.symbol===p);return e?Number(e.quantity):0},[v,p]),z=(0,n.useMemo)(()=>!!b&&!(b<=0)&&B>=b,[B,b]);(0,n.useEffect)(()=>{(async()=>{try{await fetch("/api/auth/csrf",{credentials:"include"})}catch(e){}})()},[]),(0,n.useEffect)(()=>{(async()=>{try{if(!e){var a;let e=await (0,l.SC)("/api/games"),s=null===(a=e.games)||void 0===a?void 0:a[0];(null==s?void 0:s.id)&&t(s.id)}}catch(e){}})()},[e]),(0,n.useEffect)(()=>{e&&!a&&(async()=>{try{let t=await (0,l.SC)("/api/games/".concat(e,"/me"));o(t.player.id),t.player.nickname&&m(t.player.nickname),"number"==typeof t.player.cash&&h(t.player.cash)}catch(t){try{let t=await (0,l.SC)("/api/games/".concat(e,"/join"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});o(t.playerId)}catch(e){}}})()},[e,a]);let q=(0,n.useCallback)(async()=>{if(e)try{let t=await (0,l.SC)("/api/games/".concat(e,"/me"));(null==t?void 0:t.player)&&(a||o(t.player.id),t.player.nickname&&m(t.player.nickname),"number"==typeof t.player.cash&&h(t.player.cash))}catch(e){}},[e,a]),R=(0,n.useCallback)(async()=>{if(e)try{var t;let a=await (0,l.SC)("/api/games/".concat(e,"/markets/latest"));j(null!==(t=a.prices)&&void 0!==t?t:[]),L(null)}catch(e){L(e instanceof Error?e.message:"Impossible de charger les prix")}},[e]),G=(0,n.useCallback)(async function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e)try{let s=await (0,l.SC)("/api/games/".concat(e,"/markets/history/").concat(t,"?years=").concat(a));C(e=>({...e,[t]:s.data}))}catch(e){}},[e]),Q=(0,n.useCallback)(async()=>{if(e&&a)try{var t;let s=await (0,l.SC)("/api/games/".concat(e,"/markets/holdings/").concat(a));N(null!==(t=s.holdings)&&void 0!==t?t:[]),L(null)}catch(e){L(e instanceof Error?e.message:"Impossible de charger les positions")}},[e,a]),V=(0,n.useCallback)(async()=>{if(e&&a)try{var t;let s=await (0,l.SC)("/api/games/".concat(e,"/markets/dividends/").concat(a));A(null!==(t=null==s?void 0:s.totals)&&void 0!==t?t:null)}catch(e){}},[e,a]);(0,n.useEffect)(()=>{R();let e=setInterval(()=>{R()},15e3);return()=>clearInterval(e)},[R]),(0,n.useEffect)(()=>{Q()},[Q]),(0,n.useEffect)(()=>{(async()=>{if(e)try{var t;let a=await (0,l.SC)("/api/games/".concat(e,"/economy"));S({baseMortgageRate:Number(null!==(t=a.baseMortgageRate)&&void 0!==t?t:.05)})}catch(e){}})()},[e]);let X=(0,n.useCallback)(async t=>{if(!e||!a){L("Connexion en cours… r\xe9essayez dans un instant");return}if("buy"===t){if("number"!=typeof x||x<=0){L("Encaisse n\xe9gative (marge): achat d\xe9sactiv\xe9");return}if(!_){L("Encaisse insuffisante pour cet achat");return}}if("sell"===t&&!z){L("Quantit\xe9 insuffisante pour vendre");return}try{let s=await (0,l.SC)("/api/games/".concat(e,"/markets/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:a,symbol:p,quantity:b})});F("".concat("buy"===t?"Achat":"Vente"," r\xe9alis\xe9 \xe0 ").concat(s.price.toFixed(2),"$")),L(null),await Promise.all([R(),Q(),q()])}catch(e){F(null),L(e instanceof Error?e.message:"Trade impossible")}},[e,a,p,b,Q,R,q]),J=(0,n.useMemo)(()=>{let e=new Map(y.map(e=>[e.symbol,e.price]));return v.map(t=>{var a,s,n;return{...t,marketValue:(null!==(a=e.get(t.symbol))&&void 0!==a?a:0)*t.quantity,unrealized:(null!==(s=e.get(t.symbol))&&void 0!==s?s:0-t.avgPrice)*t.quantity,gainPct:t.avgPrice>0?((null!==(n=e.get(t.symbol))&&void 0!==n?n:0)-t.avgPrice)/t.avgPrice*100:0}})},[v,y]);return(0,s.jsxs)("main",{className:"space-y-6",children:[(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Bourse"}),(0,s.jsx)("p",{className:"text-sm text-neutral-300",children:"Investissez dans l'OR, le P\xc9TROLE, le S&P 500, le TSX et des OBLIGATIONS MONDIALES (pour stabiliser le portefeuille)."})]}),(d||null!=x)&&(0,s.jsxs)("section",{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-neutral-300",children:[d&&(0,s.jsxs)("p",{children:["Pseudo: ",(0,s.jsx)("span",{className:"font-medium",children:d})]}),null!=x&&(0,s.jsxs)("p",{children:["Encaisse disponible: ",x<0?(0,s.jsx)("span",{className:"font-medium text-rose-400",children:(0,c.l)(x)}):(0,s.jsx)("span",{className:"font-medium text-emerald-400",children:(0,c.l)(x)})]}),w&&(0,s.jsx)("p",{title:"Marge: base + 5 pts → ".concat((100*w.baseMortgageRate).toFixed(2),"% + 5.00 pts = ").concat(((w.baseMortgageRate+.05)*100).toFixed(2),"%"),className:"text-xs text-neutral-400",children:"Marge: base + 5 pts"})]}),(0,s.jsxs)("div",{className:"mt-1 text-xs text-neutral-400 flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:V,className:"px-2 py-1 rounded bg-neutral-800 hover:bg-neutral-700",children:"Actualiser dividendes"}),E?(0,s.jsxs)("span",{children:["Dividendes re\xe7us: 24h $",E["24h"].toFixed(2)," \xb7 7j $",E["7d"].toFixed(2)," \xb7 YTD $",E.ytd.toFixed(2)]}):(0,s.jsx)("span",{className:"text-neutral-500",children:"Cliquer pour charger les dividendes"})]})]}),(0,s.jsxs)("section",{className:"flex flex-wrap gap-3 items-end",children:[(0,s.jsxs)("label",{className:"text-sm text-neutral-300 flex flex-col gap-1",children:["Actif",(0,s.jsx)("select",{value:p,onChange:e=>f(e.target.value),className:"px-3 py-2 rounded bg-neutral-900 border border-neutral-700 text-sm",children:r.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"text-sm text-neutral-300 flex flex-col gap-1",children:[(0,s.jsx)("label",{children:"Quantit\xe9"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("input",{type:"number",min:.01,step:.01,value:b,onChange:e=>g(Number(e.target.value)),className:"px-3 py-2 rounded bg-neutral-900 border border-neutral-700 text-sm"}),(0,s.jsx)("button",{type:"button",onClick:()=>g(D),disabled:!O||D<=0,title:O?D<=0?"Encaisse insuffisante":"Remplir au maximum achetable":"Prix indisponible",className:"px-2 py-1 rounded text-xs ".concat(!O||D<=0?"bg-neutral-700 text-neutral-300 cursor-not-allowed":"bg-neutral-600 hover:bg-neutral-500"),children:"Max"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-neutral-400 min-w-[220px]",children:[(0,s.jsxs)("div",{children:["Prix: ",null!=O?"$".concat(O.toFixed(2)):"—"]}),(0,s.jsxs)("div",{children:["Co\xfbt estim\xe9: ",$>0?"$".concat($.toFixed(2)):"—"]}),(0,s.jsxs)("div",{children:["Encaisse: ","number"==typeof x?x<0?(0,s.jsx)("span",{className:"text-rose-400",children:(0,c.l)(x)}):(0,s.jsx)("span",{className:"text-emerald-400",children:(0,c.l)(x)}):"—"]}),(0,s.jsxs)("div",{children:["Achat max: ",O?(Math.max(0,null!=x?x:0)/O).toFixed(2):"—"]})]}),(0,s.jsx)("button",{onClick:()=>X("buy"),disabled:!_,title:_?"":"number"==typeof x&&x<=0?"Encaisse n\xe9gative (marge): achat d\xe9sactiv\xe9":"Encaisse insuffisante pour cet achat",className:"px-4 py-2 rounded ".concat(_?"bg-emerald-600 hover:bg-emerald-500":"bg-neutral-700 text-neutral-300 cursor-not-allowed"),children:"Acheter"}),(0,s.jsx)("button",{onClick:()=>X("sell"),disabled:!z,title:z?"":"Quantit\xe9 insuffisante",className:"px-4 py-2 rounded ".concat(z?"bg-rose-600 hover:bg-rose-500":"bg-neutral-700 text-neutral-300 cursor-not-allowed"),children:"Vendre"}),(0,s.jsx)("button",{onClick:R,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600",children:"Actualiser prix"}),(0,s.jsx)("button",{onClick:Q,className:"px-4 py-2 rounded bg-neutral-700 hover:bg-neutral-600",children:"Actualiser positions"})]}),M&&(0,s.jsx)("p",{className:"text-sm text-emerald-400",children:M}),I&&(0,s.jsx)("p",{className:"text-sm text-red-400",children:I}),(0,s.jsxs)("section",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Prix simul\xe9s"}),(0,s.jsxs)("table",{className:"w-full text-sm bg-neutral-900 border border-neutral-800 rounded",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left",children:[(0,s.jsx)("th",{className:"p-2",children:"Actif"}),(0,s.jsx)("th",{className:"p-2",children:"Prix"}),(0,s.jsx)("th",{className:"p-2",children:"Derni\xe8re mise \xe0 jour"}),(0,s.jsx)("th",{className:"p-2",children:"DY"})]})}),(0,s.jsx)("tbody",{children:y.map(e=>(0,s.jsxs)("tr",{className:"border-t border-neutral-800 hover:bg-neutral-800/40 cursor-pointer",onClick:()=>{f(e.symbol)},children:[(0,s.jsx)("td",{className:"p-2",children:e.symbol}),(0,s.jsxs)("td",{className:"p-2",children:["$",e.price.toFixed(2)]}),(0,s.jsx)("td",{className:"p-2 text-neutral-400",children:new Date(e.at).toLocaleString()}),(0,s.jsx)("td",{className:"p-2 text-neutral-400",children:i[e.symbol]?(100*i[e.symbol]).toFixed(1)+"%":"—"})]},e.symbol))})]})]}),(0,s.jsxs)("section",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Graphique par actif"}),(0,s.jsxs)("table",{className:"w-full text-sm bg-neutral-900 border border-neutral-800 rounded",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left",children:[(0,s.jsx)("th",{className:"p-2",children:"Actif"}),(0,s.jsx)("th",{className:"p-2",children:"Graphique"})]})}),(0,s.jsx)("tbody",{children:r.map(e=>{var t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("tr",{className:"border-t border-neutral-800",children:[(0,s.jsx)("td",{className:"p-2",children:e}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsx)("button",{className:"px-2 py-1 rounded bg-neutral-700 hover:bg-neutral-600 text-xs",onClick:async()=>{let t=T===e?null:e;k(t),t&&!P[t]&&await G(t,10)},children:T===e?"Masquer":"Graphique"})})]},e),T===e&&(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:2,className:"p-2",children:(0,s.jsx)(u,{data:(null!==(t=P[e])&&void 0!==t?t:[]).slice(-800)})})})]})})})]})]}),J.length>0&&(0,s.jsxs)("section",{className:"space-y-3",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Vos positions"}),(0,s.jsxs)("table",{className:"w-full text-sm bg-neutral-900 border border-neutral-800 rounded",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-left",children:[(0,s.jsx)("th",{className:"p-2",children:"Actif"}),(0,s.jsx)("th",{className:"p-2",children:"Quantit\xe9"}),(0,s.jsx)("th",{className:"p-2",children:"Prix moyen"}),(0,s.jsx)("th",{className:"p-2",children:"Valeur march\xe9"}),(0,s.jsx)("th",{className:"p-2",children:"PNL latent"}),(0,s.jsx)("th",{className:"p-2",children:"Gain %"})]})}),(0,s.jsx)("tbody",{children:J.map(e=>(0,s.jsxs)("tr",{className:"border-t border-neutral-800",children:[(0,s.jsx)("td",{className:"p-2",children:e.symbol}),(0,s.jsx)("td",{className:"p-2",children:e.quantity.toFixed(2)}),(0,s.jsxs)("td",{className:"p-2",children:["$",e.avgPrice.toFixed(2)]}),(0,s.jsxs)("td",{className:"p-2",children:["$",e.marketValue.toFixed(2)]}),(0,s.jsxs)("td",{className:"p-2 ".concat(e.unrealized>=0?"text-emerald-400":"text-rose-400"),children:["$",e.unrealized.toFixed(2)]}),(0,s.jsx)("td",{className:"p-2",children:(0,s.jsxs)("span",{className:e.gainPct>=0?"text-emerald-400":"text-rose-400",children:[e.gainPct.toFixed(2),"%"]})})]},e.id))})]}),(()=>{var e;let t=J.reduce((e,t)=>e+(Number(t.unrealized)||0),0),a=Number(null!==(e=null==E?void 0:E.ytd)&&void 0!==e?e:0),n=[...J].map(e=>({sym:e.symbol,pnl:Number(e.unrealized)||0})).sort((e,t)=>Math.abs(t.pnl)-Math.abs(e.pnl)).slice(0,5);return(0,s.jsxs)("div",{className:"mt-3 border border-neutral-800 rounded bg-neutral-950 p-3",children:[(0,s.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"D’o\xf9 vient l’argent (bourse)"}),(0,s.jsxs)("div",{className:"text-xs text-neutral-300 flex flex-wrap gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-neutral-400",children:"PNL latent total"}),(0,s.jsx)("br",{}),(0,s.jsxs)("span",{className:t>=0?"text-emerald-400":"text-rose-400",children:[t>=0?"+":"","$",t.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-neutral-400",children:"Dividendes YTD"}),(0,s.jsx)("br",{}),(0,s.jsxs)("span",{className:a>=0?"text-emerald-400":"text-rose-400",children:[a>=0?"+":"","$",a.toFixed(2)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-neutral-400",children:"Total (indicatif)"}),(0,s.jsx)("br",{}),(0,s.jsxs)("span",{className:t+a>=0?"text-emerald-400":"text-rose-400",children:["$",(t+a).toFixed(2)]})]})]}),(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsx)("div",{className:"text-xs text-neutral-400 mb-1",children:"Top contributeurs (PNL latent)"}),(0,s.jsx)("ul",{className:"text-xs text-neutral-300 grid md:grid-cols-3 gap-1",children:n.map(e=>(0,s.jsxs)("li",{className:"flex items-center justify-between border border-neutral-800 bg-neutral-900 rounded px-2 py-1",children:[(0,s.jsx)("span",{children:e.sym}),(0,s.jsxs)("span",{className:e.pnl>=0?"text-emerald-400":"text-rose-400",children:[e.pnl>=0?"+":"","$",e.pnl.toFixed(2)]})]},e.sym))})]})]})})()]})]})}function u(e){let{data:t}=e;if(!t||0===t.length)return(0,s.jsx)("div",{className:"text-xs text-neutral-500",children:"Pas de donn\xe9es"});let a=t.map(e=>new Date(e.at).getTime()),n=t.map(e=>Number(e.price)),r=Math.min(...a),l=Math.max(...a),c=Math.min(...n),i=Math.max(...n),o=e=>28+(e-r)/Math.max(1,l-r)*744,u=e=>192-(e-c)/Math.max(1,i-c)*164,d=t.map(e=>"".concat(o(new Date(e.at).getTime()).toFixed(1),",").concat(u(e.price).toFixed(1))).join(" ");return(0,s.jsx)("div",{className:"w-full overflow-x-auto",children:(0,s.jsxs)("svg",{viewBox:"0 0 ".concat(800," ").concat(220),className:"w-full h-56 bg-neutral-950 border border-neutral-800 rounded",children:[(0,s.jsx)("polyline",{fill:"none",stroke:"#60a5fa",strokeWidth:1.5,points:d}),(0,s.jsx)("line",{x1:28,y1:192,x2:772,y2:192,stroke:"#333"}),(0,s.jsx)("line",{x1:28,y1:28,x2:28,y2:192,stroke:"#333"})]})})}},9513:function(e,t,a){"use strict";a.d(t,{MS:function(){return o},SC:function(){return x},Sg:function(){return i}});var s=a(5050);let n="https://server-jeux-millionnaire.onrender.com",r=!!window.Capacitor,l=/localhost:3000$/.test(window.location.host),c="1"===s.env.NEXT_PUBLIC_FORCE_ABS,i=r||c||!l?n:"";console.log("[API] ABS_BACKEND:",n),console.log("[API] isCapacitor:",r),console.log("[API] isLocalDev:",l),console.log("[API] forceAbs:",c),console.log("[API] API_BASE:",i);class o extends Error{constructor(e,t){super(t),this.name="ApiError",this.status=e,Object.setPrototypeOf(this,o.prototype)}}let u=null,d="HM_TOKEN";async function m(){try{var e;if(u)return u;let t=await fetch("".concat(i,"/api/auth/csrf"),{credentials:"include"});if(!t.ok)return null;let a=await t.json();return u=null!==(e=null==a?void 0:a.csrf)&&void 0!==e?e:null}catch(e){return null}}async function x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(t.method||"GET").toUpperCase(),s={...t.headers};if(console.log("[API] ".concat(a," ").concat(i).concat(e)),["POST","PUT","PATCH","DELETE"].includes(a)){let e=await m();e&&(s["x-csrf-token"]=e)}let n=function(){try{return window.localStorage.getItem(d)}catch(e){return null}}();n&&(s.Authorization="Bearer ".concat(n));let r=function(){try{let e=window.localStorage.getItem("hm-session");if(!e)return null;return JSON.parse(e).playerId||null}catch(e){return null}}();r&&(s["X-Player-ID"]=r);try{let a=await fetch("".concat(i).concat(e),{credentials:"include",...t,headers:s});if(console.log("[API] Response ".concat(a.status," ").concat(a.statusText)),401===a.status)try{if(n){let a=await fetch("".concat(i,"/api/auth/refresh"),{credentials:"include",headers:{Authorization:"Bearer ".concat(n)}});if(a.ok){let n=await a.json().catch(()=>({}));if(null==n?void 0:n.token){try{window.localStorage.setItem(d,n.token)}catch(e){}s.Authorization="Bearer ".concat(n.token)}let r=await fetch("".concat(i).concat(e),{credentials:"include",...t,headers:s});if(!r.ok)throw new o(r.status,r.statusText);if(204===r.status)return;return await r.json()}}}catch(e){}if(!a.ok)try{if((a.headers.get("content-type")||"").includes("application/json")){let e=await a.json(),t=e&&(e.error||e.message)?String(e.error||e.message):"Erreur ".concat(a.status);throw new o(a.status,t)}{let e=(await a.text()||"").trim(),t=e.length?e:a.statusText?"".concat(a.status," ").concat(a.statusText):"Erreur ".concat(a.status);throw new o(a.status,t)}}catch(t){let e=a.statusText?"".concat(a.status," ").concat(a.statusText):"Erreur ".concat(a.status);if(t instanceof o)throw t;throw new o(a.status,e)}if(204===a.status)return;return await a.json()}catch(e){throw console.error("[API] Fetch error:",e),new o(0,"Erreur r\xe9seau: ".concat(e.message||"Failed to fetch"))}}},2044:function(e,t,a){"use strict";function s(e){let t=Number(e);return isFinite(t)?"$".concat(Math.round(t).toLocaleString()):"$0"}function n(e){return 52*Number(e||0)/12}a.d(t,{P:function(){return n},l:function(){return s}})},5050:function(e,t,a){"use strict";var s,n;e.exports=(null==(s=a.g.process)?void 0:s.env)&&"object"==typeof(null==(n=a.g.process)?void 0:n.env)?a.g.process:a(9295)},9295:function(e){!function(){var t={229:function(e){var t,a,s,n=e.exports={};function r(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(a){try{return t.call(null,e,0)}catch(a){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{a="function"==typeof clearTimeout?clearTimeout:l}catch(e){a=l}}();var i=[],o=!1,u=-1;function d(){o&&s&&(o=!1,s.length?i=s.concat(i):u=-1,i.length&&m())}function m(){if(!o){var e=c(d);o=!0;for(var t=i.length;t;){for(s=i,i=[];++u<t;)s&&s[u].run();u=-1,t=i.length}s=null,o=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===l||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}function x(e,t){this.fun=e,this.array=t}function h(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];i.push(new x(e,t)),1!==i.length||o||c(m)},x.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=h,n.addListener=h,n.once=h,n.off=h,n.removeListener=h,n.removeAllListeners=h,n.emit=h,n.prependListener=h,n.prependOnceListener=h,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},a={};function s(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}},l=!0;try{t[e](r,r.exports,s),l=!1}finally{l&&delete a[e]}return r.exports}s.ab="//";var n=s(229);e.exports=n}()}},function(e){e.O(0,[115,205,744],function(){return e(e.s=4673)}),_N_E=e.O()}]);